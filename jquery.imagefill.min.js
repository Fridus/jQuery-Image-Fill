/*global jQuery*//* jquery.imagefill
 *
 * Version 0.1 by Florent Detry
 *
 * Extends jQuery <http://jquery.com>
 *
 */(function(e){"use strict";e.fn.imagefill=function(t){var n=e.extend({background:null,offsetx:0,offsety:0},t,!0),r=function(e){return e.complete},i=function(e){var t=e.width(),r=e.height(),i=e.parent().width(),s=e.parent().height();if(t>=r){e.css("max-height","100%");e.css("max-width","none");e.css("margin","0 0 0 "+ -parseInt((t/r*s-i)/2+n.offsetx,10)+"px")}else if(t<r){e.css("max-width","100%");e.css("max-height","none");e.css("margin",-parseInt((r/t*i-s)/2+n.offsety,10)+"px 0 0 0")}},s=function(t){var n=e(t);r(t)?i(n):n.load(function(){i(n)})};this.each(function(){var t=this,r=e("img",t).not(e("table img")),i=e(t).not("img");i.scrollLeft(0).scrollTop(0).css("overflow","hidden");n.background&&i.css("background",n.background);r.each(function(){s(this)})});return this}})(jQuery);